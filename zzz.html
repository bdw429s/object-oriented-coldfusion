<!DOCTYPE html>
<html>
<head>
	
	<title>What is an Object?</title>
	
	<link rel="stylesheet" href="assets/styles/reset.css">
	<link rel="stylesheet" href="assets/styles/main.css">
	<link href='http://fonts.googleapis.com/css?family=Alike' rel='stylesheet' type='text/css'>
	
	
	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

</head>
<body>
<div id="container">

<header>
	<h1><a href="index.html">Object Oriented ColdFusion</a></h1>
	<nav>
		<ul>
			<li><a href="index.html">Home</a></li>
			<li><a href="about.html">About</a></li>
		</ul>
	</nav>
</header>

<div class="main">
	<h1>What is an Object?</h1>

<p>
	In object oriented programming, an object represents a bundling of data and functions that use the data.
</p>

<p>
	This is simply a description of the structure of an object, but we need to think about objects as much more 
	than this simple bundling. We can think of objects as though they were very little living entities; 
	they have a lifespan, they can do things, and they can communicate with each other.
</p>

<p>
	<img src="assets/images/object-life-work-comm.gif" alt="The life and times of objects">
</p>

<h2>Objects have a lifetime</h2>

<p>
	Some objects may have a very short lifespan and perhaps only exist for the duration 
	of a single page request. Other objects may live much longer and may exist throughout 
	the lifetime of your application.
</p>

<p>
	Objects that have a short lifespan are those that you create on the fly during a page request. 
	You might use it a few times during that page request but it is discarded when the page request finishes. 
	Objects that have a longer lifespan are those you create and store in the session or application scope. 
	These survive for as long as session or as long as the application is running.
</p>

<p>
	In ColdFusion code this is most easily done using the createObject() function. createObject() 
	returns a reference to an object so we can keep it around for a while.
</p>

<div class="highlight"><pre><code class="cfm"><span class="nb">&lt;cfset</span> <span class="nv">application.importantObject</span> <span class="o">=</span> <span class="nf">createObject</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">,</span><span class="s2">&quot;ImportantApplicationObject&quot;</span><span class="p">).</span><span class="nf">init</span><span class="p">()</span><span class="nb">&gt;</span>
</code></pre>
</div>


<p>
	Because objects have a lifetime, this also means that they maintain state. 
	The variables inside them can, and typically will, change during their lifetime. 
	A simple example might be an application object that counts the number of visitors on a site. 
	Whenever a new session starts up this counter is increased. When a session ends this counter is decreased.
</p>

<div class="highlight"><pre><code class="cfm"><span class="cm">&lt;!--- Create the counter. ---&gt;</span>
<span class="nb">&lt;cfset</span> <span class="nv">application.sessionCounter</span> <span class="o">=</span> <span class="nf">createObject</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">,</span><span class="s2">&quot;SessionCounter&quot;</span><span class="p">).</span><span class="nf">init</span><span class="p">()</span><span class="nb">&gt;</span>

<span class="cm">&lt;!--- Some time later when a session starts up. ---&gt;</span>
<span class="nb">&lt;cfset</span> <span class="nf">application.sessionCounter.newSessionStarted</span><span class="p">()</span><span class="nb">&gt;</span>

<span class="cm">&lt;!--- And later when the session ends. ---&gt;</span>
<span class="nb">&lt;cfset</span> <span class="nf">application.sessionCounter.sessionEnded</span><span class="p">()</span><span class="nb">&gt;</span>

<span class="cm">&lt;!--- And on another page that reports the number of current sessions. ---&gt;</span>
<span class="nb">&lt;cfset</span> <span class="nv">numSessions</span> <span class="o">=</span> <span class="nf">application.sessionCounter.getCurrentNumberOfSessions</span><span class="p">()</span><span class="nb">&gt;</span>
<span class="nb">&lt;cfoutput&gt;</span><span class="p">#</span><span class="nv">numSessions</span><span class="p">#</span><span class="nb">&lt;/cfoutput&gt;</span>
</code></pre>
</div>


<h2>Objects are your own personal little workers</h2>

<p>
	Once you have brought an object to life you need to tell it to do things for you. 
	Objects don't get tired or bored and are there make you happy so they will stick 
	around as long as you need them so you can keep on asking them to do things for you.
</p>

<p>
	This is a fundamental idea to get; objects are there to do work for you. 
	You need to think of them as little workers who only know how to perform very 
	specific tasks and you can ask them to do your bidding. 
	They are much more than a simple bundle of data or a wrapper for some functions.
</p>

<div class="highlight"><pre><code class="cfm"><span class="nb">&lt;cfset</span> <span class="nf">worker.doSomething</span><span class="p">()</span><span class="nb">&gt;</span>
</code></pre>
</div>


<h2>Objects can communicate with each other</h2>

<p>
	This simply means that one object call another object's functions. 
	When one object calls another object's function it might be to ask the object to do something, 
	or to ask the object for some information.
</p>

<p>
	However, objects can't just communicate with any object anywhere in the system. 
	Objects can only communicate with other objects that it has been &quot;introduced to&quot;. 
	This simply means that an object can only communicate with other objects that have been 
	passed via a function call.  
</p>

<div class="highlight"><pre><code class="cfm"><span class="cm">&lt;!--- Create a couple of objects ---&gt;</span>

<span class="nb">&lt;cfset</span> <span class="nv">objectA</span> <span class="o">=</span> <span class="nf">createObject</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">,</span><span class="s2">&quot;ObjectA&quot;</span><span class="p">)</span><span class="nb">&gt;</span>
<span class="nb">&lt;cfset</span> <span class="nv">objectB</span> <span class="o">=</span> <span class="nf">createObject</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">,</span><span class="s2">&quot;ObjectB&quot;</span><span class="p">)</span><span class="nb">&gt;</span>

<span class="cm">&lt;!--- At this point, they don&#39;t know anything about each other,</span>
<span class="cm">so let&#39;s introduce them. ---&gt;</span>

<span class="nb">&lt;cfset</span> <span class="nf">objectA.sayHelloTo</span><span class="p">(</span><span class="nv">objectB</span><span class="p">)</span><span class="nb">&gt;</span>

<span class="cm">&lt;!--- This passes a reference of object B into object A,</span>
<span class="cm">so object A can now call some functions on object B. ---&gt;</span>
</code></pre>
</div>



<h2>From Here</h2>

<p>
	Take a look at some <a href="component-basics.html">best practices with components</a>.
</p>




</div>

<footer>
	<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
</footer>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-9750688-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
